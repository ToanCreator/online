<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>To√†n Creator - Online Lesson</title>
<style>
  :root {
    --yellow: #f9d342;
    --yellow-dark: #d4b833;
    --Green: #2ecc71;
    --starsGreen: #2ecc71;
    --red: #d93025;
    --green: #2ecc40;
    --starsGray: #ccc;
    --star-size: 30px;
    --orange: #ff9800;
  }
  body {
    margin:0; padding:0; font-family: Arial, sans-serif;
    background: white; color: black;
    transition: background-color 0.3s, color 0.3s;
  }
  body.dark {
    background: black; color: white;
  }
  /* Existing #app rule */
#app {
  max-width: 600px;
  margin: 0 auto;
  padding: 15px;
}

/* Media query for larger screens (e.g., tablets and desktops) */
@media (min-width: 768px) {
  #app {
    max-width: 960px; /* Or any wider value you prefer, e.g., 900px, 1200px */
    padding: 20px; /* Optional: Increase padding for more space on larger screens */
  }

  /* Optional: Adjust button widths for larger screens if they look too wide */
  .btn {
    max-width: 400px; /* Make main buttons a bit wider */
  }

  /* Optional: Adjust status bar layout for larger screens */
  .status-bar {
    font-size: 1.1em;
  }
}
  h1, h3 {
    text-align: center;
    margin: 10px 0;
  }
  h2 {
    text-align: center;
    margin: 10px 0;
    color: #FF00FF;
  }
  hr {
    border:none; border-bottom: 3px solid black;
    margin: 5px 0 25px 0;
  }
  .btn {
    background: #3399FF;
    border-radius: 8px;
    border:none;
    color: white;
    font-weight: bold;
    font-size: 1.2em;
    padding: 15px;
    width: 100%;
    max-width: 350px;
    margin: 10px auto;
    cursor: pointer;
    display: block;
    box-sizing: border-box;
    text-align: center;
    border: 3px solid transparent;
    user-select: none;
  }
  .btn:hover {
    background: var(--yellow-dark);
  }
  .btn svg {
    vertical-align: middle;
  }
  .question-container {
    margin-bottom: 20px;
    color: var(--orange) !important;
    font-weight: bold;
    font-size: 1.08em;
    transition: color 0.3s;
  }
  body.dark .question-container {
    color: var(--orange) !important;
  }
  .answers {
    margin-top: 15px;
  }
  .answer-btn {
    display: block;
    width: 100%;
    border: 2px solid black;
    border-radius: 6px;
    background-color: white;
    color: black;
    font-size: 1em;
    padding: 12px 10px;
    margin: 7px 0;
    cursor: pointer;
    text-align: left;
    user-select: none;
    transition: background-color 0.3s, border-color 0.3s, color 0.3s;
  }
  .answer-btn:hover:not(.disabled) {
    background-color: #eee;
  }
  body.dark .answer-btn {
    background-color: #222;
    color: white;
    border-color: white;
  }
  body.dark .answer-btn:hover:not(.disabled) {
    background-color: #444;
  }
  .answer-btn.correct {
    background-color: var(--green) !important;
    color: white !important;
    border-color: var(--green) !important;
  }
  .answer-btn.incorrect {
    background-color: var(--red) !important;
    color: white !important;
    border-color: var(--red) !important;
  }
  body.dark .answer-btn.correct {
    background-color: var(--green) !important;
    color: white !important;
    border-color: var(--green) !important;
  }
  body.dark .answer-btn.incorrect {
    background-color: var(--red) !important;
    color: white !important;
    border-color: var(--red) !important;
  }
  .disabled {
    pointer-events: none;
  }
  .status-bar {
    display: flex;
    justify-content: space-between;
    margin-bottom: 10px;
    font-weight: bold;
  }
  .star-container {
    text-align: center;
    margin: 20px 0 10px 0;
  }
  .star {
    font-size: var(--star-size);
    margin: 0 5px;
    color: var(--starsGray);
  }
  .star.Green {
    color: var(--Green);
  }
  .star.red {
    color: var(--red);
  }
  .toggle-btn {
    background: lime;
    color: white;
    font-size: 1.5em;
    padding: 12px 0;
    margin: 25px auto;
    width: 150px;
    border-radius: 6px;
    cursor: pointer;
    user-select: none;
    display: block;
  }
  .input-textarea {
    width: 100%;
    min-height: 80px;
    font-size: 1em;
    padding: 10px;
    border-radius: 6px;
    border: 2px solid black;
    resize: vertical;
    box-sizing: border-box;
  }
  body.dark .input-textarea {
    background-color: #222;
    color: white;
    border-color: white;
  }
  .btn-small {
    background: #FF99CC;
    width: auto;
    padding: 8px 15px;
    font-size: 1em;
    margin-top: 10px;
  }
  .answer-btn img {
    max-width: 100%;
    max-height: 150px;
    margin-top: 5px;
    border: 1px solid #ccc;
    border-radius: 3px;
  }
  .question-container img {
    max-width: 100%;
    max-height: 300px;
    margin: 15px 0;
    border: 1px solid #ccc;
    border-radius: 5px;
  }
  body.dark .answer-btn img,
  body.dark .question-container img {
    border-color: #555;
  }
  .question-container img, .answer-btn img {
    display: block;
    margin: 0 auto;
    background: #f5f5f5;
  }
  body.dark .question-container img,
  body.dark .answer-btn img {
    background: #333;
  }
  /* Style for the header image placeholder */
  .header-image-placeholder {
    display: block;
    width: 100%; /* Ho·∫∑c m·ªôt chi·ªÅu r·ªông c·ªë ƒë·ªãnh */
    height: 100px; /* ƒêi·ªÅu ch·ªânh chi·ªÅu cao n√†y ƒë·ªÉ ph√π h·ª£p v·ªõi k√≠ch th∆∞·ªõc b·∫°n mu·ªën */
    background-color: #f0f0f0; /* M√†u n·ªÅn ƒë·ªÉ d·ªÖ nh√¨n th·∫•y placeholder */
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 1.5em;
    color: #666;
    margin-bottom: 25px; /* Kho·∫£ng c√°ch v·ªõi ti√™u ƒë·ªÅ b√™n d∆∞·ªõi */
    
  }
  body.dark .header-image-placeholder {
    background-color: #333;
    color: #bbb;
  }
</style>
</head>
<body>
<div id="app">
  <img src="https://i.ibb.co/tMdHNdPH/Picsart-25-07-17-06-40-25-073.jpg" alt="Header Image" class="header-image-placeholder">
  
  <h2>L√ù - B√ÄI 5</h2>

  <button class="btn" id="btn-exit" style="background: var(--red);">
    <svg width="24" height="24" fill="white" viewBox="0 0 24 24" style="vertical-align:middle; margin-right:5px;">
      <path d="M16 17v-4h-2V7h-4V4H6V2H4v2h2v4h4v6h2v4h4v2h2v-2h-2z"/>
    </svg>
    Tho√°t
  </button>
  <button class="btn" id="btn-multi">TR·∫ÆC NGHI·ªÜM 4 PH∆Ø∆†NG √ÅN</button>
  <button class="btn" id="btn-truefalse">TR·∫ÆC NGHI·ªÜM ƒê√öNG/SAI</button>
  <button class="btn" id="btn-essay">T·ª∞ LU·∫¨N</button>

  <button class="toggle-btn" id="toggle-theme">üí°</button>
  <button class="toggle-btn" id="btn-download" style="background: orange; margin-top: -20px; margin-bottom: 25px;">
    T·∫£i xu·ªëng
  </button>
  <div id="quiz-section" style="display:none; margin-top: 10px;">
    <div class="status-bar">
      <div><span id="timer">00:00</span></div>
      <div>„Ö§„Ö§¬†<span id="done-count">0</span></div>
      <div>‚úÖ<span id="correct-count">0</span> | <strong>‚õî</strong><span id="wrong-count">0</span></div>
    </div>

    <div id="question-block" class="question-container"></div>
    <div id="answers-block" class="answers"></div>

    <div id="essay-input-block" style="display:none;">
      <textarea id="essay-answer" class="input-textarea" placeholder="Nh·∫≠p c√¢u tr·∫£ l·ªùi c·ªßa b·∫°n..."></textarea>
      <button id="btn-essay-submit" class="btn-small">Xong</button>
    </div>

    <div style="display:flex; justify-content: space-between; margin-top: 20px;">
      <button id="btn-back-home-in-quiz" class="btn btn-small" style="background: var(--Green); width: 48%;">
        <svg width="24" height="24" fill="white" viewBox="0 0 24 24" style="vertical-align:middle; margin-right:5px;">
          <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
        </svg>
      </button>
      <button id="btn-next" class="btn btn-small" style="width: 48%;">Ti·∫øp t·ª•c</button>
    </div>
  </div>

  <div id="result-section" style="display:none; text-align:center; margin-top: 30px;">
    <h2>K·∫æT TH√öC B√ÄI L√ÄM</h2>
    <div><strong>T·ªïng th·ªùi gian l√†m b√†i:</strong> <span id="result-time"></span></div>
    <div><strong>T·ªïng s·ªë c√¢u ƒë√£ l√†m:</strong> <span id="result-total"></span></div>
    <div><strong>ƒê√∫ng:</strong><span id="result-correct"></span><strong> | </strong><strong>Sai:</strong><span id="result-wrong"></span></div>
    <div id="star-rating" class="star-container"></div>
    <div style="margin-top: 25px;">
      <button id="btn-home" class="btn" style="display:inline-block; width:120px;">
        <svg width="24" height="24" fill="white" viewBox="0 0 24 24" style="vertical-align:middle; margin-right:5px;">
          <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
        </svg> 
      </button>
      </div>
  </div>
</div>

<script>
(() => {
  // --- QUESTION DATA ---
  // Multiple choice questions [ABCD]
const multiChoiceQuestions = [
  {
    q: "V·∫≠t (ch·∫•t) n√†o d∆∞·ªõi ƒë√¢y kh√¥ng c√≥ nhi·ªát ƒë·ªô n√≥ng ch·∫£y x√°c ƒë·ªãnh?",
    qImage: null,
    answers: [
      { text: "A. Mi·∫øng nh·ª±a th√¥ng", correct: true, image: "media/anh106.png" },
      { text: "B. H·∫°t ƒë∆∞·ªùng", correct: false, image: "media/anh110.png" },
      { text: "C. Vi√™n kim c∆∞∆°ng", correct: false, image: "media/anh33.png" },
      { text: "D. ƒê√° th·∫°ch anh", correct: false, image: "media/anh109.png" }
    ]
  },
  {
    q: "ƒê∆°n v·ªã c·ªßa nhi·ªát n√≥ng ch·∫£y ri√™ng l√†",
    qImage: null,
    answers: [
      { text: "A. J/s", correct: false, image: null },
      { text: "B. J/kg.ƒë·ªô", correct: false, image: null },
      { text: "C. J/kg", correct: true, image: null },
      { text: "D. kg/J", correct: false, image: null }
    ]
  },
  {
    q: "G·ªçi Q l√† nhi·ªát l∆∞·ª£ng c·∫ßn truy·ªÅn cho v·∫≠t c√≥ kh·ªëi l∆∞·ª£ng m ƒë·ªÉ l√†m v·∫≠t n√≥ng ch·∫£y ho√†n to√†n v·∫≠t ·ªü nhi·ªát ƒë·ªô n√≥ng ch·∫£y m√† kh√¥ng thay ƒë·ªïi nhi·ªát ƒë·ªô c·ªßa v·∫≠t. Th√¨ nhi·ªát n√≥ng ch·∫£y ri√™ng Œª c·ªßa ch·∫•t ƒë√≥ ƒë∆∞·ª£c t√≠nh theo c√¥ng th·ª©c",
    qImage: null,
    answers: [
      { text: "A. Œª = Q.m", correct: false, image: null },
      { text: "B. Œª = Q + m", correct: false, image: null },
      { text: "C. Œª = Q - m", correct: false, image: null },
      { text: "D. Œª = Q/m", correct: true, image: null }
    ]
  },
  {
    q: "Kh√¥ng th·ªÉ k·∫øt lu·∫≠n g√¨ v·ªÅ nhi·ªát n√≥ng ch·∫£y ri√™ng c·ªßa ch·∫•t n√†o d∆∞·ªõi ƒë√¢y?",
    qImage: null,
    answers: [
      { text: "A. Mi·∫øng nh·ª±a ƒë∆∞·ªùng (h·∫Øc √≠n)", correct: true, image: "media/anh115.png" },
      { text: "B. Mu·ªëi ƒÉn", correct: false, image: "media/anh114.png" },
      { text: "C. Vi√™n kim c∆∞∆°ng", correct: false, image: "media/anh33.png" },
      { text: "D. Kh·ªëi th·∫°ch anh", correct: false, image: "media/anh113.png" }
    ]
  },
  {
    q: "Nhi·ªát ƒë·ªô n√≥ng ch·∫£y ri√™ng c·ªßa v·∫≠t r·∫Øn ph·ª• thu·ªôc v√†o nh·ªØng y·∫øu t·ªë n√†o?",
    qImage: null,
    answers: [
      { text: "A. Ph·ª• thu·ªôc v√†o nhi·ªát ƒë·ªô c·ªßa v·∫≠t r·∫Øn v√† √°p su·∫•t ngo√†i.", correct: false, image: null },
      { text: "B. Ph·ª• thu·ªôc b·∫£n ch·∫•t c·ªßa v·∫≠t r·∫Øn", correct: true, image: null },
      { text: "C. Ph·ª• thu·ªôc b·∫£n ch·∫•t v√† nhi·ªát ƒë·ªô c·ªßa v·∫≠t r·∫Øn", correct: false, image: null },
      { text: "D. Ph·ª• thu·ªôc b·∫£n ch·∫•t v√† nhi·ªát ƒë·ªô c·ªßa v·∫≠t r·∫Øn, ƒë·ªìng th·ªùi ph·ª• thu·ªôc √°p su·∫•t ngo√†i", correct: false, image: null }
    ]
  },
  {
    q: "Nhi·ªát n√≥ng ch·∫£y ri√™ng c·ªßa m·ªôt ch·∫•t l√†",
    qImage: null,
    answers: [
      { text: "A. nhi·ªát ƒë·ªô n√≥ng ch·∫£y ri√™ng c·ªßa ch·∫•t r·∫Øn", correct: false, image: null },
      { text: "B. nhi·ªát l∆∞·ª£ng c·∫ßn cung c·∫•p cho v·∫≠t ƒë·ªÉ l√†m v·∫≠t n√≥ng ch·∫£y", correct: false, image: null },
      { text: "C. l√† nhi·ªát l∆∞·ª£ng c·∫ßn ƒë·ªÉ l√†m cho m·ªôt ƒë∆°n v·ªã kh·ªëi l∆∞·ª£ng ch·∫•t ƒë√≥ n√≥ng ch·∫£y ho√†n to√†n.", correct: false, image: null },
      { text: "D. l√† nhi·ªát l∆∞·ª£ng c·∫ßn ƒë·ªÉ l√†m cho m·ªôt ƒë∆°n v·ªã kh·ªëi l∆∞·ª£ng ch·∫•t ƒë√≥ n√≥ng ch·∫£y ho√†n to√†n ·ªü nhi·ªát ƒë·ªô n√≥ng ch·∫£y m√† kh√¥ng l√†m thay ƒë·ªïi nhi·ªát ƒë·ªô.", correct: true, image: null }
    ]
  },
  {
    q: "T√≠nh nhi·ªát l∆∞·ª£ng Q c·∫ßn cung c·∫•p ƒë·ªÉ l√†m n√≥ng ch·∫£y 500g n∆∞·ªõc ƒë√° ·ªü 0¬∞C. Bi·∫øt nhi·ªát n√≥ng ch·∫£y ri√™ng c·ªßa n∆∞·ªõc ƒë√° b·∫±ng 3,34.10‚ÅµJ/kg",
    qImage: null,
    answers: [
      { text: "A. Q = 7.10‚Å∑ J", correct: false, image: null },
      { text: "B. Q = 167k J", correct: true, image: null },
      { text: "C. Q = 167J", correct: false, image: null },
      { text: "D. Q = 167.10J", correct: false, image: null }
    ]
  },
  {
    q: "ƒê·ªÉ gi·∫£i th√≠ch hi·ªán t∆∞·ª£ng t√°ch kim lo·∫°i b·∫±ng n√≥ng ch·∫£y ng∆∞·ªùi ta d√πng kh√°i ni·ªám v·ªÅ ƒë·∫°i l∆∞·ª£ng n√†o ?",
    qImage: null,
    answers: [
      { text: "A. Nhi·ªát dung ri√™ng", correct: false, image: null },
      { text: "B. Nhi·ªát l∆∞·ª£ng", correct: false, image: null },
      { text: "C. Nhi·ªát n√≥ng ch·∫£y ri√™ng", correct: true, image: null },
      { text: "D. Nhi·ªát ho√° h∆°i ri√™ng", correct: false, image: null }
    ]
  },
  {
    q: "Cho b·∫£ng s·ªë li·ªáu sau : Ph√°t bi·ªÉu n√†o sau ƒë√¢y l√† ƒë√∫ng",
    qImage: "media/anh139.jpg",
    answers: [
      { text: "A. C·∫ßn nhi·ªát l∆∞·ª£ng 3,34.10‚Åµ J ƒë·ªÉ l√†m n√≥ng ch·∫£y n∆∞·ªõc ƒë√°.", correct: false, image: null },
      { text: "B. S·∫Øt c√≥ nhi·ªát ƒë·ªô n√≥ng ch·∫£y l·ªõn nh·∫•t n√™n nhi·ªát n√≥ng ch·∫£y ri√™ng c·ªßa n√≥ l·ªõn nh·∫•t.", correct: false, image: null },
      { text: "C. C·∫ßn nhi·ªát l∆∞·ª£ng 1,8.10‚Åµ J ƒë·ªÉ l√†m n√≥ng ch·∫£y 1kg ƒë·ªìng", correct: false, image: null },
      { text: "D. C·∫ßn nhi·ªát l∆∞·ª£ng 0,25.10‚Åµ J ƒë·ªÉ l√†m n√≥ng ch·∫£y ho√†n to√†n 1kg ch√¨ ·ªü 327¬∞C", correct: true, image: null }
    ]
  },
  {
    q: "Trong th√≠ nghi·ªám x√°c ƒë·ªãnh nhi·ªát n√≥ng ch·∫£y ri√™ng c·ªßa n∆∞·ªõc ƒë√° kh√¥ng c·∫ßn thi·∫øt ph·∫£i c√≥ d·ª•ng c·ª• n√†o sau ƒë√¢y ?",
    qImage: null,
    answers: [
      { text: "A. O√°t k·∫ø", correct: false, image: null },
      { text: "B. Nhi·ªát l∆∞·ª£ng k·∫ø", correct: false, image: null },
      { text: "C. ƒê·ªìng h·ªì b·∫•m gi√¢y", correct: false, image: null },
      { text: "D. Th∆∞·ªõc m√©t", correct: true, image: null }
    ]
  },
  {
    q: "Cho b·∫£ng k·∫øt qu·∫£ th√≠ nghi·ªám x√°c ƒë·ªãnh nhi·ªát n√≥ng ch·∫£y ri√™ng c·ªßa n∆∞·ªõc ƒë√°. D·ª±a v√†o b·∫£ng s·ªë li·ªáu tr√™n cho bi·∫øt nhi·ªát l∆∞·ª£ng ƒë√£ cung c·∫•p cho n∆∞·ªõc ƒë√° l√† bao nhi√™u?",
    qImage: "media/anh140.jpg",
    answers: [
      { text: "A. 4320 J", correct: true, image: null },
      { text: "B. 3,15 J", correct: false, image: null },
      { text: "C. 5,51 J", correct: false, image: null },
      { text: "D. 72J", correct: false, image: null }
    ]
  },
  {
    q: "G·ªçi Q l√† nhi·ªát l∆∞·ª£ng c·∫ßn truy·ªÅn cho v·∫≠t, m l√† kh·ªëi l∆∞·ª£ng c·ªßa v·∫≠t (kg). T·ªâ s·ªë Q/m g·ªçi l√†",
    qImage: null,
    answers: [
      { text: "A. nhi·ªát dung ri√™ng c·ªßa ch·∫•t l√†m n√™n v·∫≠t", correct: false, image: null },
      { text: "B. nhi·ªát n√≥ng ch·∫£y ri√™ng c·ªßa ch·∫•t l√†m n√™n v·∫≠t", correct: true, image: null },
      { text: "C. tr·ªçng l∆∞·ª£ng ri√™ng c·ªßa v·∫≠t", correct: false, image: null },
      { text: "D. kh·ªëi l∆∞·ª£ng ri√™ng c·ªßa v·∫≠t", correct: false, image: null }
    ]
  },
  {
    q: "Trong c√°c hi√™n t∆∞·ª£ng sau, hi·ªán t∆∞·ª£ng n√†o li√™n quan ƒë·∫øn s·ª± n√≥ng ch·∫£y",
    qImage: null,
    answers: [
      { text: "A. Th·∫£ c·ª•c n∆∞·ªõc ƒë√° v√†o c·ªëc n∆∞·ªõc", correct: true, image: "media/anh121.png" },
      { text: "B. ƒê·ªët ng·ªçn ƒë√®n d·∫ßu", correct: false, image: "media/anh120.png" },
      { text: "C. ƒêun n√≥ng m·ªôt n·ªìi n∆∞·ªõc", correct: false, image: "media/anh119.png" },
      { text: "D. Cho c·ªëc n∆∞·ªõc v√†o t·ªß l·∫°nh", correct: false, image: "media/anh118.png" }
    ]
  },
  {
    q: "Bi·∫øt nhi·ªát n√≥ng ch·∫£y ri√™ng c·ªßa n∆∞·ªõc ƒë√° l√† 3,34.10‚Åµ J/ kg. Ng∆∞·ªùi ta cung c·∫•p nhi·ªát l∆∞·ª£ng 5,01.10‚Åµ J c√≥ th·ªÉ l√†m n√≥ng ch·∫£y ho√†n to√†n bao nhi√™u kg n∆∞·ªõc ƒë√°",
    qImage: "media/anh121.png",
    answers: [
      { text: "A. 16,7 kg", correct: false, image: null },
      { text: "B. 1,5kg", correct: true, image: null },
      { text: "C. 8,35kg", correct: false, image: null },
      { text: "D. 0,668kg", correct: false, image: null }
    ]
  },
  {
    q: "Trong c√¥ng ngh·ªá ƒë√∫c kim lo·∫°i ng∆∞·ªùi ta quan t√¢m ƒë·∫øn ƒë·∫°i l∆∞·ª£ng n√†o sau ƒë√¢y",
    qImage: "media/anh117.png",
    answers: [
      { text: "A. Nhi·ªát l∆∞·ª£ng c·ªßa v·∫≠t li·ªáu ƒë√∫c", correct: false, image: null },
      { text: "B. Nhi·ªát n√≥ng ch·∫£y ri√™ng c·ªßa v·∫≠t li·ªáu ƒë√∫c", correct: true, image: null },
      { text: "C. Nhi·ªát dung c·ªßa v·∫≠t li·ªáu ƒë√∫c", correct: false, image: null },
      { text: "D. Nhi·ªát dung ri√™ng c·ªßa v·∫≠t li·ªáu ƒë√∫c", correct: false, image: null }
    ]
  },
  {
    q: "Nhi·ªát n√≥ng ch·∫£y ri√™ng c·ªßa ƒë·ªìng l√† 1,8.10‚Åµ J/kg. C√¢u n√†o d∆∞·ªõi ƒë√¢y l√† ƒë√∫ng?",
    qImage: "media/anh116.png",
    answers: [
      { text: "A. Kh·ªëi ƒë·ªìng s·∫Ω t·ªèa ra nhi·ªát l∆∞·ª£ng 1,8.10‚Åµ J khi n√≥ng ch·∫£y ho√†n to√†n.", correct: false, image: null },
      { text: "B. M·ªói kilogam ƒë·ªìng c·∫ßn thu nhi·ªát l∆∞·ª£ng 1,8.10‚Åµ J ƒë·ªÉ h√≥a l·ªèng ho√†n to√†n ·ªü nhi·ªát ƒë·ªô n√≥ng ch·∫£y.", correct: true, image: null },
      { text: "C. Kh·ªëi ƒë·ªìng c·∫ßn thu nhi·ªát l∆∞·ª£ng 1,8.10‚Åµ J ƒë·ªÉ h√≥a l·ªèng.", correct: false, image: null },
      { text: "D. M·ªói kilogam ƒë·ªìng t·ªèa ra nhi·ªát l∆∞·ª£ng 1,8.10‚Åµ J khi h√≥a l·ªèng ho√†n to√†n.", correct: false, image: null }
    ]
  },
  {
    q: "ƒêi·ªÅu n√†o sau ƒë√¢y l√† sai khi n√≥i v·ªÅ nhi·ªát n√≥ng ch·∫£y",
    qImage: null,
    answers: [
      { text: "A. Nhi·ªát n√≥ng ch·∫£y c·ªßa v·∫≠t r·∫Øn l√† nhi·ªát l∆∞·ª£ng cung c·∫•p cho v·∫≠t r·∫Øn trong qu√° tr√¨nh n√≥ng ch·∫£y", correct: false, image: null },
      { text: "B. Nhi·ªát n√≥ng ch·∫£y c√≥ ƒë∆°n v·ªã Jun (J)", correct: false, image: null },
      { text: "C. C√°c v·∫≠t c√≥ kh·ªëi l∆∞·ª£ng b·∫±ng nhau th√¨ c√≥ nhi·ªát n√≥ng ch·∫£y nh∆∞ nhau.", correct: true, image: null },
      { text: "D. Nhi·ªát n√≥ng ch·∫£y t·ªâ l·ªá thu·∫≠n v·ªõi kh·ªëi l∆∞·ª£ng c·ªßa v·∫≠t r·∫Øn.", correct: false, image: null }
    ]
  },
  {
    q: "Cho b·∫£ng nhi·ªát ƒë·ªô n√≥ng ch·∫£y c·ªßa c√°c ch·∫•t sau: S·∫Øp x·∫øp theo chi·ªÅu tƒÉng d·∫ßn nhi·ªát n√≥ng ch·∫£y ri√™ng c·ªßa c√°c ch·∫•t th√©p, ƒë·ªìng, nh√¥m, thi·∫øc",
    qImage: "media/anh141.jpg",
    answers: [
      { text: "A. ƒê·ªìng, nh√¥m, thi·∫øc, s·∫Øt.", correct: false, image: null },
      { text: "B. Thi·∫øc, nh√¥m, ƒë·ªìng, th√©p", correct: true, image: null },
      { text: "C. Nh√¥m, ƒë·ªìng, thi·∫øc, th√©p", correct: false, image: null },
      { text: "D. Thi·∫øc, ƒë·ªìng, nh√¥m, th√©p", correct: false, image: null }
    ]
  },
  {
    q: "Nhi·ªát l∆∞·ª£ng c·∫ßn cung c·∫•p ƒë·ªÉ l√†m tƒÉng nhi·ªát ƒë·ªô c·ªßa 100 g n∆∞·ªõc ƒë√° l√™n 0¬∞C l√† 4200 J. Ph√°t bi·ªÉu n√†y l√†:",
    qImage: null,
    answers: [
      { text: "A. ƒê√∫ng", correct: true, image: null },
      { text: "B. Sai", correct: false, image: null },
      { text: "C. Kh√¥ng x√°c ƒë·ªãnh", correct: false, image: null },
      { text: "D. C·∫ßn th√™m th√¥ng tin", correct: false, image: null }
    ]
  },
  {
    q: "Nhi·ªát l∆∞·ª£ng c·∫ßn cung c·∫•p ƒë·ªÉ l√†m tƒÉng nhi·ªát ƒë·ªô c·ªßa 100 g n∆∞·ªõc ƒë√° l√™n 0¬∞C l√† 2100 J. Ph√°t bi·ªÉu n√†y l√†:",
    qImage: null,
    answers: [
      { text: "A. ƒê√∫ng", correct: false, image: null },
      { text: "B. Sai", correct: true, image: null },
      { text: "C. Kh√¥ng x√°c ƒë·ªãnh", correct: false, image: null },
      { text: "D. C·∫ßn th√™m th√¥ng tin", correct: false, image: null }
    ]
  },
  {
    q: "Nhi·ªát l∆∞·ª£ng c·∫ßn cung c·∫•p ƒë·ªÉ l√†m n√≥ng ch·∫£y c·ªßa 100 g n∆∞·ªõc ƒë√° ·ªü -20¬∞C l√† 3,34.10‚Åµ J. Ph√°t bi·ªÉu n√†y l√†:",
    qImage: null,
    answers: [
      { text: "A. ƒê√∫ng", correct: false, image: null },
      { text: "B. Sai", correct: true, image: null },
      { text: "C. Kh√¥ng x√°c ƒë·ªãnh", correct: false, image: null },
      { text: "D. C·∫ßn th√™m th√¥ng tin", correct: false, image: null }
    ]
  },
  {
    q: "Nhi·ªát l∆∞·ª£ng c·∫ßn cung c·∫•p ƒë·ªÉ l√†m n√≥ng ch·∫£y ho√†n to√†n 100 g n∆∞·ªõc ƒë√° ·ªü -20¬∞C l√† 37600J. Ph√°t bi·ªÉu n√†y l√†:",
    qImage: null,
    answers: [
      { text: "A. ƒê√∫ng", correct: true, image: null },
      { text: "B. Sai", correct: false, image: null },
      { text: "C. Kh√¥ng x√°c ƒë·ªãnh", correct: false, image: null },
      { text: "D. C·∫ßn th√™m th√¥ng tin", correct: false, image: null }
    ]
  },
  {
    q: "Nhi·ªát nƒÉng c·ªßa ch√¨ b·∫±ng 0,25.10‚Åµ J/Kg. Ph√°t bi·ªÉu n√†y l√†:",
    qImage: null,
    answers: [
      { text: "A. ƒê√∫ng", correct: false, image: null },
      { text: "B. Sai", correct: true, image: null },
      { text: "C. Kh√¥ng x√°c ƒë·ªãnh", correct: false, image: null },
      { text: "D. C·∫ßn th√™m th√¥ng tin", correct: false, image: null }
    ]
  },
  {
    q: "Mi·∫øng ch√¨ kh·ªëi l∆∞·ª£ng 1 kg ƒëang ·ªü nhi·ªát ƒë·ªô 25¬∞C ƒë∆∞·ª£c cung c·∫•p nhi·ªát l∆∞·ª£ng 1,26 kJ th√¨ nhi·ªát ƒë·ªô c·ªßa n√≥ tƒÉng l√™n 26¬∞C. Ph√°t bi·ªÉu n√†y l√†:",
    qImage: null,
    answers: [
      { text: "A. ƒê√∫ng", correct: false, image: null },
      { text: "B. Sai", correct: true, image: null },
      { text: "C. Kh√¥ng x√°c ƒë·ªãnh", correct: false, image: null },
      { text: "D. C·∫ßn th√™m th√¥ng tin", correct: false, image: null }
    ]
  },
  {
    q: "C·∫ßn cung c·∫•p nhi·ªát l∆∞·ª£ng 0,25.10‚Åµ J/kg ƒë·ªÉ l√†m n√≥ng ch·∫£y ho√†n to√†n 1kg ch√¨ ·ªü nhi·ªát ƒë·ªô n√≥ng ch·∫£y c·ªßa n√≥. Ph√°t bi·ªÉu n√†y l√†:",
    qImage: null,
    answers: [
      { text: "A. ƒê√∫ng", correct: true, image: null },
      { text: "B. Sai", correct: false, image: null },
      { text: "C. Kh√¥ng x√°c ƒë·ªãnh", correct: false, image: null },
      { text: "D. C·∫ßn th√™m th√¥ng tin", correct: false, image: null }
    ]
  },
  {
    q: "Bi·∫øt c√¥ng su·∫•t c·ªßa l√≤ nung l√† 1000W, gi·∫£ s·ª≠ hi·ªáu su·∫•t c·ªßa l√≤ l√† 100%. Th·ªùi gian ƒë·ªÉ l√†m n√≥ng ch·∫£y ho√†n to√†n 1 kg ch√¨ t·ª´ nhi·ªát ƒë·ªô n√≥ng ch·∫£y c·ªßa n√≥ b·∫±ng 25 s. Ph√°t bi·ªÉu n√†y l√†:",
    qImage: "media/anh20.png",
    answers: [
      { text: "A. ƒê√∫ng", correct: true, image: null },
      { text: "B. Sai", correct: false, image: null },
      { text: "C. Kh√¥ng x√°c ƒë·ªãnh", correct: false, image: null },
      { text: "D. C·∫ßn th√™m th√¥ng tin", correct: false, image: null }
    ]
  },
  {
    q: "Thi·∫øc c√≥ nhi·ªát ƒë·ªô n√≥ng ch·∫£y l√† 232 ¬∞C. N·∫øu m·∫£nh thi·∫øc ƒëang c√≥ nhi·ªát ƒë·ªô 25¬∞C nh·∫≠n nhi·ªát l∆∞·ª£ng ƒë·ªß l·ªõn v√† ƒëang n√≥ng ch·∫£y th√¨ nhi·ªát ƒë·ªô c·ªßa v·∫≠t tƒÉng l√™n. Ph√°t bi·ªÉu n√†y l√†:",
    qImage: "media/anh16.png",
    answers: [
      { text: "A. ƒê√∫ng", correct: false, image: null },
      { text: "B. Sai", correct: true, image: null },
      { text: "C. Kh√¥ng x√°c ƒë·ªãnh", correct: false, image: null },
      { text: "D. C·∫ßn th√™m th√¥ng tin", correct: false, image: null }
    ]
  },
  {
    q: "Thi·∫øc c√≥ nhi·ªát ƒë·ªô n√≥ng ch·∫£y l√† 232 ¬∞C. N·∫øu m·∫£nh thi·∫øc ƒëang c√≥ nhi·ªát ƒë·ªô 25¬∞C nh·∫≠n nhi·ªát l∆∞·ª£ng ƒë·ªß l·ªõn v√† ƒëang n√≥ng ch·∫£y th√¨ nhi·ªát ƒë·ªô c·ªßa v·∫≠t gi·∫£m xu·ªëng. Ph√°t bi·ªÉu n√†y l√†:",
    qImage: null,
    answers: [
      { text: "A. ƒê√∫ng", correct: false, image: null },
      { text: "B. Sai", correct: true, image: null },
      { text: "C. Kh√¥ng x√°c ƒë·ªãnh", correct: false, image: null },
      { text: "D. C·∫ßn th√™m th√¥ng tin", correct: false, image: null }
    ]
  },
  {
    q: "Thi·∫øc c√≥ nhi·ªát ƒë·ªô n√≥ng ch·∫£y l√† 232 ¬∞C. N·∫øu m·∫£nh thi·∫øc ƒëang c√≥ nhi·ªát ƒë·ªô 25¬∞C nh·∫≠n nhi·ªát l∆∞·ª£ng ƒë·ªß l·ªõn v√† ƒëang n√≥ng ch·∫£y th√¨ ban ƒë·∫ßu nhi·ªát ƒë·ªô c·ªßa v·∫≠t tƒÉng l√™n 232¬∞C, trong qu√° tr√¨nh n√≥ng ch·∫£y nhi·ªát ƒë·ªô c·ªßa v·∫≠t kh√¥ng ƒë·ªïi. Ph√°t bi·ªÉu n√†y l√†:",
    qImage: null,
    answers: [
      { text: "A. ƒê√∫ng", correct: true, image: null },
      { text: "B. Sai", correct: false, image: null },
      { text: "C. Kh√¥ng x√°c ƒë·ªãnh", correct: false, image: null },
      { text: "D. C·∫ßn th√™m th√¥ng tin", correct: false, image: null }
    ]
  },
  {
    q: "Thi·∫øc c√≥ nhi·ªát ƒë·ªô n√≥ng ch·∫£y l√† 232 ¬∞C. N·∫øu m·∫£nh thi·∫øc ƒëang c√≥ nhi·ªát ƒë·ªô 25¬∞C nh·∫≠n nhi·ªát l∆∞·ª£ng ƒë·ªß l·ªõn v√† ƒëang n√≥ng ch·∫£y th√¨ m·ªôt ph·∫ßn nhi·ªát l∆∞·ª£ng cung c·∫•p ƒë·ªÉ l√†m tƒÉng nhi·ªát ƒë·ªô c·ªßa v·∫≠t ƒë·∫øn nhi·ªát ƒë·ªô n√≥ng ch·∫£y, ph·∫ßn c√≤n l·∫°i cung c·∫•p cho v·∫≠t ƒë·ªÉ l√†m n√≥ng ch·∫£y v·∫≠t. Ph√°t bi·ªÉu n√†y l√†:",
    qImage: null,
    answers: [
      { text: "A. ƒê√∫ng", correct: true, image: null },
      { text: "B. Sai", correct: false, image: null },
      { text: "C. Kh√¥ng x√°c ƒë·ªãnh", correct: false, image: null },
      { text: "D. C·∫ßn th√™m th√¥ng tin", correct: false, image: null }
    ]
  },
  {
    q: "C·∫ßn cung c·∫•p nhi·ªát l∆∞·ª£ng 896 J ƒë·ªÉ nhi·ªát ƒë·ªô c·ªßa 1kg nh√¥m tƒÉng th√™m 1K. Ph√°t bi·ªÉu n√†y l√†:",
    qImage: null,
    answers: [
      { text: "A. ƒê√∫ng", correct: true, image: null },
      { text: "B. Sai", correct: false, image: null },
      { text: "C. Kh√¥ng x√°c ƒë·ªãnh", correct: false, image: null },
      { text: "D. C·∫ßn th√™m th√¥ng tin", correct: false, image: null }
    ]
  },
  {
    q: "C·∫ßn cung c·∫•p nhi·ªát l∆∞·ª£ng 3,9.10‚Åµ J ƒë·ªÉ ho√° l·ªèng ho√†n to√†n mi·∫øng nh√¥m. Ph√°t bi·ªÉu n√†y l√†:",
    qImage: null,
    answers: [
      { text: "A. ƒê√∫ng", correct: false, image: null },
      { text: "B. Sai", correct: true, image: null },
      { text: "C. Kh√¥ng x√°c ƒë·ªãnh", correct: false, image: null },
      { text: "D. C·∫ßn th√™m th√¥ng tin", correct: false, image: null }
    ]
  },
  {
    q: "C·∫ßn cung c·∫•p nhi·ªát l∆∞·ª£ng 57164,8 J ƒë·ªÉ tƒÉng nhi·ªát ƒë·ªô c·ªßa mi·∫øng nh√¥m t·ª´ 20¬∞C l√™n 658¬∞C. Ph√°t bi·ªÉu n√†y l√†:",
    qImage: null,
    answers: [
      { text: "A. ƒê√∫ng", correct: true, image: null },
      { text: "B. Sai", correct: false, image: null },
      { text: "C. Kh√¥ng x√°c ƒë·ªãnh", correct: false, image: null },
      { text: "D. C·∫ßn th√™m th√¥ng tin", correct: false, image: null }
    ]
  },
  {
    q: "Nhi·ªát l∆∞·ª£ng c·∫ßn cung c·∫•p cho mi·∫øng nh√¥m h√≥a l·ªèng ho√†n to√†n ·ªü nhi·ªát ƒë·ªô 658¬∞C l√† 39.10‚Åµ J. Ph√°t bi·ªÉu n√†y l√†:",
    qImage: null,
    answers: [
      { text: "A. ƒê√∫ng", correct: false, image: null },
      { text: "B. Sai", correct: true, image: null },
      { text: "C. Kh√¥ng x√°c ƒë·ªãnh", correct: false, image: null },
      { text: "D. C·∫ßn th√™m th√¥ng tin", correct: false, image: null }
    ]
  },
  {
    q: "Nhi·ªát l∆∞·ª£ng c·∫ßn cung c·∫•p ƒë·ªÉ l√†m n√≥ng ch·∫£y ho√†n to√†n 100g n∆∞·ªõc ƒë√° l√†",
    qImage: null,
    answers: [
      { text: "A. 3,34.10‚Åµ J", correct: false, image: null },
      { text: "B. 33,4 kJ", correct: true, image: null },
      { text: "C. 3,34 kJ", correct: false, image: null },
      { text: "D. 0,334kJ", correct: false, image: null }
    ]
  },
  {
    q: "S·∫Øt c√≥ nhi·ªát ƒë·ªô n√≥ng ch·∫£y l·ªõn nh·∫•t n√™n nhi·ªát n√≥ng ch·∫£y ri√™ng c·ªßa n√≥ l·ªõn nh·∫•t. Ph√°t bi·ªÉu n√†y l√†:",
    qImage: null,
    answers: [
      { text: "A. ƒê√∫ng", correct: false, image: null },
      { text: "B. Sai", correct: true, image: null },
      { text: "C. Kh√¥ng x√°c ƒë·ªãnh", correct: false, image: null },
      { text: "D. C·∫ßn th√™m th√¥ng tin", correct: false, image: null }
    ]
  },
  {
    q: "Nhi·ªát dung c·ªßa ƒë·ªìng l·ªõn h∆°n c·ªßa ch√¨. Ph√°t bi·ªÉu n√†y l√†:",
    qImage: null,
    answers: [
      { text: "A. ƒê√∫ng", correct: false, image: null },
      { text: "B. Sai", correct: true, image: null },
      { text: "C. Kh√¥ng x√°c ƒë·ªãnh", correct: false, image: null },
      { text: "D. C·∫ßn th√™m th√¥ng tin", correct: false, image: null }
    ]
  },
  {
    q: "C·∫ßn nhi·ªát l∆∞·ª£ng 1,8.10‚Åµ J ƒë·ªÉ l√†m n√≥ng ch·∫£y ƒë·ªìng. Ph√°t bi·ªÉu n√†y l√†:",
    qImage: null,
    answers: [
      { text: "A. ƒê√∫ng", correct: false, image: null },
      { text: "B. Sai", correct: true, image: null },
      { text: "C. Kh√¥ng x√°c ƒë·ªãnh", correct: false, image: null },
      { text: "D. C·∫ßn th√™m th√¥ng tin", correct: false, image: null }
    ]
  },
  {
    q: "C·∫ßn nhi·ªát l∆∞·ª£ng 0,25.10‚Åµ J ƒë·ªÉ l√†m n√≥ng ch·∫£y ho√†n to√†n 1kg ch√¨ ·ªü 327¬∞C. Ph√°t bi·ªÉu n√†y l√†:",
    qImage: null,
    answers: [
      { text: "A. ƒê√∫ng", correct: true, image: null },
      { text: "B. Sai", correct: false, image: null },
      { text: "C. Kh√¥ng x√°c ƒë·ªãnh", correct: false, image: null },
      { text: "D. C·∫ßn th√™m th√¥ng tin", correct: false, image: null }
    ]
  },
  {
    q: "Nhi·ªát n√≥ng ch·∫£y ri√™ng c·ªßa m·ªôt ch·∫•t l√† nhi·ªát l∆∞·ª£ng c·∫ßn cung c·∫•p ƒë·ªÉ 1 kg ch·∫•t ƒë√≥ n√≥ng ch·∫£y ho√†n to√†n ·ªü nhi·ªát ƒë·ªô n√≥ng ch·∫£y. Ph√°t bi·ªÉu n√†y l√†:",
    qImage: null,
    answers: [
      { text: "A. ƒê√∫ng", correct: true, image: null },
      { text: "B. Sai", correct: false, image: null },
      { text: "C. Kh√¥ng x√°c ƒë·ªãnh", correct: false, image: null },
      { text: "D. C·∫ßn th√™m th√¥ng tin", correct: false, image: null }
    ]
  },
  {
    q: "Nhi·ªát n√≥ng ch·∫£y ri√™ng c·ªßa m·ªôt ch·∫•t l√† nhi·ªát l∆∞·ª£ng c·∫ßn cung c·∫•p ƒë·ªÉ 1 kg ch·∫•t ƒë√≥ n√≥ng ch·∫£y ho√†n to√†n ·ªü nhi·ªát ƒë·ªô b·∫•t k·ª≥. Ph√°t bi·ªÉu n√†y l√†:",
    qImage: null,
    answers: [
      { text: "A. ƒê√∫ng", correct: false, image: null },
      { text: "B. Sai", correct: true, image: null },
      { text: "C. Kh√¥ng x√°c ƒë·ªãnh", correct: false, image: null },
      { text: "D. C·∫ßn th√™m th√¥ng tin", correct: false, image: null }
    ]
  },
  {
    q: "ƒê∆°n v·ªã c·ªßa nhi·ªát n√≥ng ch·∫£y ri√™ng l√† J/kg. Ph√°t bi·ªÉu n√†y l√†:",
    qImage: null,
    answers: [
      { text: "A. ƒê√∫ng", correct: true, image: null },
      { text: "B. Sai", correct: false, image: null },
      { text: "C. Kh√¥ng x√°c ƒë·ªãnh", correct: false, image: null },
      { text: "D. C·∫ßn th√™m th√¥ng tin", correct: false, image: null }
    ]
  },
  {
    q: "H·ªá th·ª©c t√≠nh nhi·ªát l∆∞·ª£ng trong qu√° tr√¨nh truy·ªÅn nhi·ªát ƒë·ªÉ l√†m v·∫≠t n√≥ng ch·∫£y ho√†n to√†n ·ªü nhi·ªát ƒë·ªô n√≥ng ch·∫£y l√† Q = Œª.m. Ph√°t bi·ªÉu n√†y l√†:",
    qImage: null,
    answers: [
      { text: "A. ƒê√∫ng", correct: true, image: null },
      { text: "B. Sai", correct: false, image: null },
      { text: "C. Kh√¥ng x√°c ƒë·ªãnh", correct: false, image: null },
      { text: "D. C·∫ßn th√™m th√¥ng tin", correct: false, image: null }
    ]
  },
  {
    q: "Nhi·ªát n√≥ng ch·∫£y ri√™ng c·ªßa n∆∞·ªõc ƒë√° l√† bao nhi√™u?",
    qImage: null,
    answers: [
      { text: "A. 3,34.10‚Åµ J/kg", correct: true, image: null },
      { text: "B. 2,27.10‚Åµ J/kg", correct: false, image: null },
      { text: "C. 1,80.10‚Åµ J/kg", correct: false, image: null },
      { text: "D. 0,25.10‚Åµ J/kg", correct: false, image: null }
    ]
  },
  {
    q: "Nhi·ªát l∆∞·ª£ng c·∫ßn cung c·∫•p ƒë·ªÉ l√†m n√≥ng ch·∫£y ho√†n to√†n 2kg ƒë·ªìng ·ªü nhi·ªát ƒë·ªô n√≥ng ch·∫£y c·ªßa n√≥ l√† 3,6.10‚Åµ J. Ph√°t bi·ªÉu n√†y l√†:",
    qImage: null,
    answers: [
      { text: "A. ƒê√∫ng", correct: true, image: null },
      { text: "B. Sai", correct: false, image: null },
      { text: "C. Kh√¥ng x√°c ƒë·ªãnh", correct: false, image: null },
      { text: "D. C·∫ßn th√™m th√¥ng tin", correct: false, image: null }
    ]
  },
  {
    q: "D√πng l√≤ nung c√≥ c√¥ng su·∫•t 2000 W hi·ªáu su·∫•t 75% th√¨ m·∫•t 240s ƒë·ªÉ l√†m n√≥ng ch·∫£y ho√†n to√†n 2kg ƒë·ªìng ·ªü nhi·ªát ƒë·ªô n√≥ng ch·∫£y c·ªßa n√≥. Ph√°t bi·ªÉu n√†y l√†:",
    qImage: null,
    answers: [
      { text: "A. ƒê√∫ng", correct: true, image: null },
      { text: "B. Sai", correct: false, image: null },
      { text: "C. Kh√¥ng x√°c ƒë·ªãnh", correct: false, image: null },
      { text: "D. C·∫ßn th√™m th√¥ng tin", correct: false, image: null }
    ]
  },
  {
    q: "Nhi·ªát l∆∞·ª£ng c·∫ßn cung c·∫•p ƒë·ªÉ l√†m tƒÉng nhi·ªát ƒë·ªô c·ªßa 200 g n∆∞·ªõc ƒë√° l√™n 0¬∞C l√† 4200 J. Ph√°t bi·ªÉu n√†y l√†:",
    qImage: null,
    answers: [
      { text: "A. ƒê√∫ng", correct: false, image: null },
      { text: "B. Sai", correct: true, image: null },
      { text: "C. Kh√¥ng x√°c ƒë·ªãnh", correct: false, image: null },
      { text: "D. C·∫ßn th√™m th√¥ng tin", correct: false, image: null }
    ]
  },
  {
    q: "Nhi·ªát l∆∞·ª£ng c·∫ßn cung c·∫•p ƒë·ªÉ l√†m tƒÉng nhi·ªát ƒë·ªô c·ªßa 200 g n∆∞·ªõc ƒë√° l√™n 0¬∞C l√† 8,4 kJ. Ph√°t bi·ªÉu n√†y l√†:",
    qImage: null,
    answers: [
      { text: "A. ƒê√∫ng", correct: true, image: null },
      { text: "B. Sai", correct: false, image: null },
      { text: "C. Kh√¥ng x√°c ƒë·ªãnh", correct: false, image: null },
      { text: "D. C·∫ßn th√™m th√¥ng tin", correct: false, image: null }
    ]
  },
  {
    q: "Nhi·ªát l∆∞·ª£ng c·∫ßn cung c·∫•p ƒë·ªÉ l√†m n√≥ng ch·∫£y c·ªßa 200 g n∆∞·ªõc ƒë√° ·ªü -20¬∞C l√† 6,68.10‚Åµ J. Ph√°t bi·ªÉu n√†y l√†:",
    qImage: null,
    answers: [
      { text: "A. ƒê√∫ng", correct: false, image: null },
      { text: "B. Sai", correct: true, image: null },
      { text: "C. Kh√¥ng x√°c ƒë·ªãnh", correct: false, image: null },
      { text: "D. C·∫ßn th√™m th√¥ng tin", correct: false, image: null }
    ]
  },
  {
    q: "Nhi·ªát l∆∞·ª£ng c·∫ßn cung c·∫•p ƒë·ªÉ l√†m n√≥ng ch·∫£y ho√†n to√†n 200 g n∆∞·ªõc ƒë√° ·ªü -20¬∞C l√† 75200 J. Ph√°t bi·ªÉu n√†y l√†:",
    qImage: null,
    answers: [
      { text: "A. ƒê√∫ng", correct: true, image: null },
      { text: "B. Sai", correct: false, image: null },
      { text: "C. Kh√¥ng x√°c ƒë·ªãnh", correct: false, image: null },
      { text: "D. C·∫ßn th√™m th√¥ng tin", correct: false, image: null }
    ]
  },
  {
    q: "Th·ªùi gian m√† n∆∞·ªõc ƒë√° n√≥ng ch·∫£y l√† bao nhi√™u :",
    qImage: null,
    answers: [
      { text: "A. 120 s", correct: false, image: null },
      { text: "B. 480s", correct: false, image: null },
      { text: "C. 600s", correct: true, image: null },
      { text: "D. 960s", correct: false, image: null }
    ]
  },
  {
    q: "K·∫øt qu·∫£ nhi·ªát n√≥ng ch·∫£y ri√™ng c·ªßa n∆∞·ªõc ƒë√° theo c√¥ng th·ª©c: ŒªH‚ÇÇO = PTM / m b·∫±ng bao nhi√™u?",
    qImage: null,
    answers: [
      { text: "A. 34176 J/kg", correct: false, image: null },
      { text: "B. 6835,2 J/kg", correct: false, image: null },
      { text: "C. 27340,8 J/kg", correct: false, image: null },
      { text: "D. 54681,6J/kg", correct: true, image: null }
    ]
  },
  {
    q: "Bi·∫øt nhi·ªát n√≥ng ch·∫£y ri√™ng c·ªßa n∆∞·ªõc ƒë√° l√† 3,34.10‚Åµ J/ kg. Ng∆∞·ªùi ta cung c·∫•p nhi·ªát l∆∞·ª£ng 10,02.10‚Åµ J c√≥ th·ªÉ l√†m n√≥ng ch·∫£y ho√†n to√†n bao nhi√™u kg n∆∞·ªõc ƒë√°",
    qImage: null,
    answers: [
      { text: "A. 33,47 kg", correct: false, image: null },
      { text: "B. 3kg", correct: true, image: null },
      { text: "C. 0,35kg", correct: false, image: null },
      { text: "D. 0,668kg", correct: false, image: null }
    ]
  },
  {
    q: "Nhi·ªát n√≥ng ch·∫£y ri√™ng c·ªßa m·ªôt ch·∫•t l√† nhi·ªát l∆∞·ª£ng c·∫ßn cung c·∫•p ƒë·ªÉ 1 kg ch·∫•t ƒë√≥:",
    qImage: null,
    answers: [
      { text: "A. n√≥ng ch·∫£y ho√†n to√†n ·ªü nhi·ªát ƒë·ªô n√≥ng ch·∫£y.", correct: true, image: null },
      { text: "B. n√≥ng ch·∫£y ho√†n to√†n ·ªü nhi·ªát ƒë·ªô b·∫•t k·ª≥.", correct: false, image: null },
      { text: "C. tƒÉng nhi·ªát ƒë·ªô l√™n 1 ƒë·ªô C.", correct: false, image: null },
      { text: "D. h√≥a h∆°i ho√†n to√†n.", correct: false, image: null }
    ]
  },
  {
    q: "ƒê∆°n v·ªã c·ªßa nhi·ªát n√≥ng ch·∫£y ri√™ng l√†:",
    qImage: null,
    answers: [
      { text: "A. J/kg", correct: true, image: null },
      { text: "B. J/kg.K", correct: false, image: null },
      { text: "C. J/K", correct: false, image: null },
      { text: "D. J", correct: false, image: null }
    ]
  },
  {
    q: "C√¥ng th·ª©c t√≠nh nhi·ªát l∆∞·ª£ng c·∫ßn thi·∫øt ƒë·ªÉ l√†m n√≥ng ch·∫£y m·ªôt l∆∞·ª£ng ch·∫•t r·∫Øn l√†:",
    qImage: null,
    answers: [
      { text: "A. Q = Œª.m", correct: true, image: null },
      { text: "B. Q = Œª/m", correct: false, image: null },
      { text: "C. Q = m/Œª", correct: false, image: null },
      { text: "D. Q = Œª + m", correct: false, image: null }
    ]
  },
  {
    q: "ƒê·ªÉ l√†m n√≥ng ch·∫£y ho√†n to√†n 0,5 kg n∆∞·ªõc ƒë√° ·ªü 0¬∞C, c·∫ßn cung c·∫•p nhi·ªát l∆∞·ª£ng l√† bao nhi√™u? (Bi·∫øt nhi·ªát n√≥ng ch·∫£y ri√™ng c·ªßa n∆∞·ªõc ƒë√° l√† 3,34.10‚Åµ J/kg)",
    qImage: null,
    answers: [
      { text: "A. 1,67.10‚Åµ J", correct: true, image: null },
      { text: "B. 3,34.10‚Åµ J", correct: false, image: null },
      { text: "C. 0,5.10‚Åµ J", correct: false, image: null },
      { text: "D. 6,68.10‚Åµ J", correct: false, image: null }
    ]
  },
  {
    q: "M·ªôt ch·∫•t c√≥ nhi·ªát n√≥ng ch·∫£y ri√™ng c√†ng cao th√¨ c√≥ √Ω nghƒ©a g√¨?",
    qImage: null,
    answers: [
      { text: "A. C·∫ßn nhi·ªÅu nhi·ªát l∆∞·ª£ng ƒë·ªÉ l√†m n√≥ng ch·∫£y ch·∫•t ƒë√≥.", correct: true, image: null },
      { text: "B. C·∫ßn √≠t nhi·ªát l∆∞·ª£ng ƒë·ªÉ l√†m n√≥ng ch·∫£y ch·∫•t ƒë√≥.", correct: false, image: null },
      { text: "C. Ch·∫•t ƒë√≥ n√≥ng ch·∫£y ·ªü nhi·ªát ƒë·ªô cao h∆°n.", correct: false, image: null },
      { text: "D. Ch·∫•t ƒë√≥ n√≥ng ch·∫£y nhanh h∆°n.", correct: false, image: null }
    ]
  },
  {
    q: "Khi m·ªôt v·∫≠t r·∫Øn ƒëang n√≥ng ch·∫£y, nhi·ªát ƒë·ªô c·ªßa v·∫≠t:",
    qImage: null,
    answers: [
      { text: "A. TƒÉng d·∫ßn.", correct: false, image: null },
      { text: "B. Gi·∫£m d·∫ßn.", correct: false, image: null },
      { text: "C. Kh√¥ng ƒë·ªïi.", correct: true, image: null },
      { text: "D. C√≥ th·ªÉ tƒÉng ho·∫∑c gi·∫£m t√πy thu·ªôc v√†o ch·∫•t.", correct: false, image: null }
    ]
  },
  {
    q: "Qu√° tr√¨nh chuy·ªÉn t·ª´ th·ªÉ r·∫Øn sang th·ªÉ l·ªèng c·ªßa c√°c ch·∫•t g·ªçi l√†:",
    qImage: null,
    answers: [
      { text: "A. S·ª± ƒë√¥ng ƒë·∫∑c.", correct: false, image: null },
      { text: "B. S·ª± n√≥ng ch·∫£y.", correct: true, image: null },
      { text: "C. S·ª± bay h∆°i.", correct: false, image: null },
      { text: "D. S·ª± ng∆∞ng t·ª•.", correct: false, image: null }
    ]
  }
];

// True/False questions [D/S]
const trueFalseQuestions = [
  {
    q: "Khi n√≥i v·ªÅ nhi·ªát n√≥ng ch·∫£y c·ªßa m·ªôt v·∫≠t (ch·∫•t) th√¨:",
    qImage: null,
    answers: [
      { text: "Nhi·ªát n√≥ng ch·∫£y c·ªßa v·∫≠t r·∫Øn l√† nhi·ªát l∆∞·ª£ng cung c·∫•p cho v·∫≠t r·∫Øn ƒë·ªÉ n√¢ng nhi·ªát ƒë·ªô c·ªßa v·∫≠t ƒë·∫øn nhi·ªát ƒë·ªô n√≥ng ch·∫£y.", correct: false, image: null },
      { text: "Nhi·ªát n√≥ng ch·∫£y ri√™ng c√≥ ƒë∆°n v·ªã Jun/kg (J/kg).", correct: true, image: null },
      { text: "C√°c v·∫≠t c√≥ kh·ªëi l∆∞·ª£ng b·∫±ng nhau th√¨ c√≥ nhi·ªát n√≥ng ch·∫£y nh∆∞ nhau.", correct: false, image: null },
      { text: "Nhi·ªát n√≥ng ch·∫£y t·ªâ l·ªá thu·∫≠n v·ªõi kh·ªëi l∆∞·ª£ng c·ªßa v·∫≠t r·∫Øn.", correct: true, image: null }
    ]
  },
  {
    q: "Trong c√°c hi·ªán t∆∞·ª£ng sau, nh·ªØng hi·ªán t∆∞·ª£ng li√™n quan ƒë·∫øn s·ª± n√≥ng ch·∫£y l√†:",
    qImage: null,
    answers: [
      { text: "Th·∫£ c·ª•c n∆∞·ªõc ƒë√° v√†o c·ªëc n∆∞·ªõc.", correct: true, image: null },
      { text: "ƒêun s√¥i d·∫ßu ƒÉn.", correct: false, image: null },
      { text: "ƒêun n√≥ng ch·∫£y ch√¨ ƒë·ªÉ l√†m c·∫ßu ƒë√°.", correct: true, image: null },
      { text: "Cho c·ªëc n∆∞·ªõc v√†o t·ªß l·∫°nh.", correct: false, image: null }
    ]
  },
  {
    q: "Nhi·ªát n√≥ng ch·∫£y ri√™ng c·ªßa ƒë·ªìng l√† 1,8.10‚Åµ J/kg. Khi n√≥i v·ªÅ ƒë·ªìng th√¨:",
    qImage: null,
    answers: [
      { text: "Kh·ªëi ƒë·ªìng s·∫Ω t·ªèa ra nhi·ªát l∆∞·ª£ng 1,8.10‚Åµ J khi n√≥ng ch·∫£y ho√†n to√†n.", correct: false, image: null },
      { text: "M·ªói kilogam ƒë·ªìng c·∫ßn thu nhi·ªát l∆∞·ª£ng 1,8.10‚Åµ J ƒë·ªÉ h√≥a l·ªèng ho√†n to√†n ·ªü nhi·ªát ƒë·ªô n√≥ng ch·∫£y.", correct: true, image: null },
      { text: "Nhi·ªát l∆∞·ª£ng c·∫ßn cung c·∫•p ƒë·ªÉ l√†m n√≥ng ch·∫£y ho√†n to√†n 2kg ƒë·ªìng ·ªü nhi·ªát ƒë·ªô n√≥ng ch·∫£y c·ªßa n√≥ l√† 3,6.10‚Åµ J.", correct: true, image: null },
      { text: "D√πng l√≤ nung c√≥ c√¥ng su·∫•t 2000 W hi·ªáu su·∫•t 75% th√¨ m·∫•t 240s ƒë·ªÉ l√†m n√≥ng ch·∫£y ho√†n to√†n 2kg ƒë·ªìng ·ªü nhi·ªát ƒë·ªô n√≥ng ch·∫£y c·ªßa n√≥.", correct: true, image: null }
    ]
  },
  {
    q: "Ng∆∞·ªùi ta cung c·∫•p nhi·ªát l∆∞·ª£ng Q ƒë·ªÉ l√†m n√≥ng ch·∫£y 200g n∆∞·ªõc ƒë√° ·ªü -20¬∞C. Bi·∫øt nhi·ªát n√≥ng ch·∫£y ri√™ng c·ªßa n∆∞·ªõc ƒë√° l√† 3,34.10‚ÅµJ/kg v√† nhi·ªát dung ri√™ng c·ªßa n∆∞·ªõc ƒë√° l√† 2,1.10¬≥ J/kg. Khi ƒë√≥:",
    qImage: null,
    answers: [
      { text: "Nhi·ªát l∆∞·ª£ng c·∫ßn cung c·∫•p ƒë·ªÉ l√†m tƒÉng nhi·ªát ƒë·ªô c·ªßa 200 g n∆∞·ªõc ƒë√° l√™n 0¬∞C l√† 4200 J.", correct: false, image: null },
      { text: "Nhi·ªát l∆∞·ª£ng c·∫ßn cung c·∫•p ƒë·ªÉ l√†m tƒÉng nhi·ªát ƒë·ªô c·ªßa 200 g n∆∞·ªõc ƒë√° l√™n 0¬∞C l√† 8,4 kJ.", correct: true, image: null },
      { text: "Nhi·ªát l∆∞·ª£ng c·∫ßn cung c·∫•p ƒë·ªÉ l√†m n√≥ng ch·∫£y c·ªßa 200 g n∆∞·ªõc ƒë√° ·ªü -20¬∞C l√† 6,68.10‚Åµ J.", correct: false, image: null },
      { text: "Nhi·ªát l∆∞·ª£ng c·∫ßn cung c·∫•p ƒë·ªÉ l√†m n√≥ng ch·∫£y ho√†n to√†n 200 g n∆∞·ªõc ƒë√° ·ªü -20¬∞C l√† 75200 J.", correct: true, image: null }
    ]
  }
];

// Essay questions [TL]
const essayQuestions = [
  {
    q: "M·ªôt th·ªèi nh√¥m c√≥ kh·ªëi l∆∞·ª£ng 1,0kg ·ªü 8¬∞C. C·∫ßn cung c·∫•p nhi·ªát l∆∞·ª£ng Q b·∫±ng bao nhi√™u kJ ƒë·ªÉ l√†m n√≥ng ch·∫£y ho√†n to√†n th·ªèi nh√¥m n√†y. Nh√¥m n√≥ng ch·∫£y ·ªü 658¬∞C, nhi·ªát n√≥ng ch·∫£y ri√™ng c·ªßa nh√¥m l√† 3,9.10‚ÅµJ/Kg v√† nhi·ªát dung ri√™ng c·ªßa nh√¥m l√† 880J/kg.K",
    qImage: null,
    answerRef: "Q = mcŒîT + Œªm = 1.0kg * 880J/kg.K * (658¬∞C - 8¬∞C) + 1.0kg * 3.9e5 J/kg = 572000 J + 390000 J = 962000 J = 962 kJ.",
    answerRefImage: null
  },
  {
    q: "Ng∆∞·ªùi ta th·∫£ m·ªôt c·ª•c n∆∞·ªõc ƒë√° kh·ªëi l∆∞·ª£ng 80g ·ªü 0¬∞C v√†o m·ªôt c·ªëc nh√¥m ƒë·ª±ng 0,4kg n∆∞·ªõc ·ªü 20¬∞C ƒë·∫∑t trong nhi·ªát l∆∞·ª£ng k·∫ø. Kh·ªëi l∆∞·ª£ng c·ªßa c·ªëc nh√¥m l√† 0,20kg. T√≠nh nhi·ªát ƒë·ªô c·ªßa n∆∞·ªõc trong c·ªëc nh√¥m (theo ¬∞C, l√†m tr√≤n ƒë·∫øn 1 ch·ªØ s·ªë th·∫≠p ph√¢n) khi c·ª•c n∆∞·ªõc v·ª´a tan h·∫øt. Nhi·ªát n√≥ng ch·∫£y ri√™ng c·ªßa n∆∞·ªõc ƒë√° l√† 3,4.10‚ÅµJ/kg. Nhi·ªát dung ri√™ng c·ªßa nh√¥m l√† 880J/kg.K v√† c·ªßa n∆∞·ªõc l√† 4180 J/kg.K. B·ªè qua s·ª± m·∫•t m√°t nhi·ªát ƒë·ªô do nhi·ªát truy·ªÅn ra b√™n ngo√†i nhi·ªát l∆∞·ª£ng k·∫ø.",
    qImage: null,
    answerRef: "K·∫øt qu·∫£: 4.9¬∞C",
    answerRefImage: null
  },
  {
    q: "T√≠nh nhi·ªát l∆∞·ª£ng c·∫ßn cung c·∫•p (t√≠nh ra ƒë∆°n v·ªã MegaJun MJ l·∫•y ƒë·∫øn s·ªë th·∫≠p ph√¢n th·ª© 2) cho 5kg n∆∞·ªõc ƒë√° ·ªü -10¬∞C chuy·ªÉn th√†nh n∆∞·ªõc ·ªü 0¬∞C. Cho bi·∫øt nhi·ªát dung ri√™ng c·ªßa n∆∞·ªõc ƒë√° l√† 2090J/kg.K v√† nhi·ªát n√≥ng ch·∫£y ri√™ng c·ªßa n∆∞·ªõc ƒë√° 3,4.10‚ÅµJ/kg.",
    qImage: null,
    answerRef: "Q = m_ice * c_ice * ŒîT + m_ice * Œª_ice = 5kg * 2090J/kg.K * (0 - (-10))K + 5kg * 3.4e5 J/kg = 104500 J + 1700000 J = 1804500 J ‚âà 1.80 MJ.",
    answerRefImage: null
  },
  {
    q: "S·ª≠ d·ª•ng b·∫£ng s·ªë li·ªáu d∆∞·ªõi ƒë√¢y. C·∫ßn bao nhi√™u th·ªùi gian(s) ƒë·ªÉ l√†m n√≥ng ch·∫£y ho√†n to√†n 2kg ƒë·ªìng c√≥ nhi·ªát ƒë·ªô ban ƒë·∫ßu 30¬∞C, trong m·ªôt l√≤ nung ƒëi·ªán c√¥ng su·∫•t 20000W. Bi·∫øt ch·ªâ c√≥ 50% nƒÉng l∆∞·ª£ng ti√™u th·ª• c·ªßa l√≤ ƒë∆∞·ª£c d√πng v√†o vi·ªác l√†m ƒë·ªìng n√≥ng l√™n v√† n√≥ng ch·∫£y ho√†n to√†n ·ªü nhi·ªát ƒë·ªô kh√¥ng ƒë·ªïi. Nhi·ªát dung ri√™ng c·ªßa ƒë·ªìng l√† 380J/kg.K",
    qImage: "media/anh139.png",
    answerRef: "Th·ªùi gian c·∫ßn thi·∫øt l√†: 116 s.",
    answerRefImage: null
  },
  {
    q: "Th·∫£ c·ª•c n∆∞·ªõc ƒë√° kh·ªëi l∆∞·ª£ng 30g ·ªü 0¬∞ C v√†o c·ªëc n∆∞·ªõc ch·ª©a 0,2 l n∆∞·ªõc ·ªü 20¬∞C. B·ªè qua nhi·ªát d·ª•ng c·ªßa c·ªëc. H·ªèi nhi·ªát ƒë·ªô cu·ªëi c·ªßa c·ªëc n∆∞·ªõc l√† bao nhi√™u (¬∞C)",
    qImage: null,
    answerRef: "K·∫øt qu·∫£: 7¬∞C",
    answerRefImage: null
  }
];

  // --- UTILITY FUNCTIONS ---
  function shuffleArray(arr) {
    for(let i = arr.length - 1; i > 0; i--){
      const j = Math.floor(Math.random() * (i + 1));
      [arr[i], arr[j]] = [arr[j], arr[i]];
    }
    return arr;
  }

  function escapeHtml(unsafe) {
    return unsafe
      .replace(/</g, "‚Äπ")
      .replace(/>/g, "‚Ä∫")
      .replace(/"/g, "'");
  }

  // --- DOM ELEMENTS ---
  const btnMulti = document.getElementById('btn-multi');
  const btnTrueFalse = document.getElementById('btn-truefalse');
  const btnEssay = document.getElementById('btn-essay');
  const toggleThemeBtn = document.getElementById('toggle-theme');
  const btnExit = document.getElementById('btn-exit'); 
  const btnBackHomeInQuiz = document.getElementById('btn-back-home-in-quiz'); // N√∫t Back Home trong quiz
  const btnDownload = document.getElementById('btn-download');

  const quizSection = document.getElementById('quiz-section');
  const questionBlock = document.getElementById('question-block');
  const answersBlock = document.getElementById('answers-block');
  const essayInputBlock = document.getElementById('essay-input-block');
  const essayAnswerTextarea = document.getElementById('essay-answer');
  const btnEssaySubmit = document.getElementById('btn-essay-submit');
  const btnNext = document.getElementById('btn-next');

  const timerSpan = document.getElementById('timer');
  const doneCountSpan = document.getElementById('done-count');
  const correctCountSpan = document.getElementById('correct-count');
  const wrongCountSpan = document.getElementById('wrong-count');

  const resultSection = document.getElementById('result-section');
  const resultTime = document.getElementById('result-time');
  const resultTotal = document.getElementById('result-total');
  const resultCorrect = document.getElementById('result-correct');
  const resultWrong = document.getElementById('result-wrong');
  const starRating = document.getElementById('star-rating');

  // const btnRestart = document.getElementById('btn-restart'); // ƒê√£ x√≥a kh·ªèi HTML, n√™n b·ªè d√≤ng n√†y ho·∫∑c comment l·∫°i
  const btnHome = document.getElementById('btn-home');

  // --- STATE VARIABLES ---
  let quizType = null; // 'multi', 'truefalse', 'essay'
  let questions = [];
  let currentQIdx = 0;
  let timerInterval = null;
  let timeSeconds = 0;
  let doneCount = 0;
  let correctCount = 0;
  let wrongCount = 0;
  let currentTFAnswerIdx = 0;

  // --- TIMER FUNCTIONS ---
  function startTimer() {
    timeSeconds = 0;
    timerSpan.textContent = formatTime(timeSeconds);
    if(timerInterval) clearInterval(timerInterval);
    timerInterval = setInterval(() => {
      timeSeconds++;
      timerSpan.textContent = formatTime(timeSeconds);
    }, 1000);
  }

  function stopTimer() {
    if(timerInterval) clearInterval(timerInterval);
  }

  function formatTime(s) {
    const m = Math.floor(s/60);
    const sec = s % 60;
    return (m < 10 ? '0' + m : m) + ':' + (sec < 10 ? '0' + sec : sec);
  }

  // --- QUIZ FUNCTIONS ---
  function resetStats() {
    doneCount = 0;
    correctCount = 0;
    wrongCount = 0;
    doneCountSpan.textContent = "0";
    correctCountSpan.textContent = "0";
    wrongCountSpan.textContent = "0";
  }

  function initQuiz(type) {
    quizType = type;
    currentQIdx = 0;
    resetStats();

    if(type === 'multi') {
      questions = multiChoiceQuestions.map(q => ({
        q: q.q,
        qImage: q.qImage,
        answers: shuffleArray(q.answers.slice())
      }));
      shuffleArray(questions);
    } else if(type === 'truefalse') {
      questions = trueFalseQuestions.map(q => ({
        q: q.q,
        qImage: q.qImage,
        answers: shuffleArray(q.answers.slice())
      }));
      shuffleArray(questions);
      currentTFAnswerIdx = 0;
    } else if(type === 'essay') {
      questions = essayQuestions.map(q => ({
        q: q.q,
        qImage: q.qImage,
        answerRef: q.answerRef,
        answerRefImage: q.answerRefImage
      }));
      shuffleArray(questions);
    }
    
    quizSection.style.display = 'block';
    resultSection.style.display = 'none';
    btnMulti.style.display = 'none';
    btnTrueFalse.style.display = 'none';
    btnEssay.style.display = 'none';
    btnExit.style.display = 'none'; // ·∫®n n√∫t Exit khi b·∫Øt ƒë·∫ßu quiz
    toggleThemeBtn.style.display = 'none'; // ·∫®n n√∫t chuy·ªÉn theme khi v√†o quiz
    btnDownload.style.display = 'none';

    showQuestion();
    startTimer();
  }

  function showQuestion() {
    // ·∫®n n√∫t "Ti·∫øp t·ª•c" n·∫øu n√≥ ƒëang hi·ªÉn th·ªã
    btnNext.style.display = 'none'; 
    // N·∫øu l√† d·∫°ng t·ª± lu·∫≠n, n√∫t "Xong" (submit) s·∫Ω ƒë∆∞·ª£c hi·ªÉn th·ªã, ng∆∞·ª£c l·∫°i ·∫©n
    btnEssaySubmit.style.display = (quizType === 'essay') ? 'block' : 'none';
    // ƒê·∫£m b·∫£o n√∫t "Xong" ƒë∆∞·ª£c k√≠ch ho·∫°t l·∫°i cho c√¢u h·ªèi t·ª± lu·∫≠n m·ªõi
    btnEssaySubmit.disabled = false; 

    answersBlock.innerHTML = ''; // X√≥a c√°c c√¢u tr·∫£ l·ªùi c≈©
    essayInputBlock.style.display = 'none'; // ·∫®n khung nh·∫≠p t·ª± lu·∫≠n
    essayAnswerTextarea.value = ''; // X√≥a n·ªôi dung c≈© trong khung t·ª± lu·∫≠n
    
    if (currentQIdx >= questions.length) {
      endQuiz();
      return;
    }

    const currentQ = questions[currentQIdx];
    
    // Display question text and image (if any)
    let questionHTML = `
      <div style="color: var(--orange); font-weight: bold; margin-bottom: 15px;">
        C√¢u ${currentQIdx + 1}: ${escapeHtml(currentQ.q)}
      </div>
    `;
    
    if (currentQ.qImage) {
      questionHTML += `
        <div style="text-align: center; margin: 15px 0;">
          <img src="${currentQ.qImage}" 
               style="max-width: 100%; max-height: 300px; border: 1px solid #ccc; border-radius: 5px;"
               onerror="this.style.display='none'">
        </div>
      `;
    }
    
    questionBlock.innerHTML = questionHTML;

    if (quizType === 'multi') {
      // Multiple choice questions
      answersBlock.style.display = 'block';
      currentQ.answers.forEach((ans, i) => {
        const btn = document.createElement('button');
        btn.className = 'answer-btn';
        
        let answerContent = `${String.fromCharCode(65 + i)}. ${escapeHtml(ans.text)}`;
        
        if (ans.image) {
          answerContent += `
            <div style="margin-top: 8px; text-align: center;">
              <img src="${ans.image}" 
                   style="max-width: 100%; max-height: 150px; border: 1px solid #ddd; border-radius: 3px;"
                   onerror="this.style.display='none'">
            </div>
          `;
        }
        
        btn.innerHTML = answerContent;
        btn.onclick = () => handleMultiAnswerClick(btn, ans.correct, currentQ.answers);
        answersBlock.appendChild(btn);
      });

    } else if (quizType === 'truefalse') {
      // True/False questions
      answersBlock.style.display = 'block';
      currentTFAnswerIdx = 0;
      showTrueFalseAnswer(currentQ.answers[currentTFAnswerIdx]);
      
    } else if (quizType === 'essay') {
      // Essay questions
      essayInputBlock.style.display = 'block';
    }
  }

  function handleMultiAnswerClick(btn, isCorrect, allAnswers) {
    Array.from(answersBlock.children).forEach(b => b.classList.add('disabled'));

    doneCount++;
    doneCountSpan.textContent = doneCount;

    if(isCorrect) {
      btn.classList.add('correct');
      correctCount++;
      correctCountSpan.textContent = correctCount;
    } else {
      btn.classList.add('incorrect');
      wrongCount++;
      wrongCountSpan.textContent = wrongCount;
      // Highlight correct answer
      const correctAns = allAnswers.find(a => a.correct);
      for(let b of answersBlock.children) {
        // C·∫©n th·∫≠n v·ªõi vi·ªác so s√°nh textContent tr·ª±c ti·∫øp n·∫øu c√≥ h√¨nh ·∫£nh
        // C·∫ßn l·∫•y ch·ªâ ph·∫ßn text c·ªßa c√¢u tr·∫£ l·ªùi
        const btnText = b.childNodes[0].nodeType === 3 ? b.childNodes[0].nodeValue.substring(3).trim() : ''; // L·∫•y text tr∆∞·ªõc h√¨nh ·∫£nh
        const correctText = escapeHtml(correctAns.text);

        if(btnText === correctText && correctAns.correct) {
          b.classList.add('correct');
          break;
        }
      }
    }
    btnNext.style.display = 'inline-block';
  }

  function showTrueFalseAnswer(answerObj) {
    answersBlock.innerHTML = '';

    const label = document.createElement('div');
    label.style.marginBottom = '10px';
    label.style.fontWeight = 'bold';
    label.textContent = `C√¢u h·ªèi ph·ª• ${currentTFAnswerIdx + 1}: ${answerObj.text}`;
    answersBlock.appendChild(label);

    if (answerObj.image) {
      const imgDiv = document.createElement('div');
      imgDiv.style.textAlign = 'center';
      imgDiv.style.margin = '10px 0';
      imgDiv.innerHTML = `<img src="${answerObj.image}" style="max-width: 100%; max-height: 200px; border: 1px solid #ccc; border-radius: 3px;" onerror="this.style.display='none'">`;
      answersBlock.appendChild(imgDiv);
    }

    const btnTrue = document.createElement('button');
    btnTrue.className = 'answer-btn';
    btnTrue.textContent = 'ƒê√∫ng';
    btnTrue.onclick = () => handleTrueFalseAnswerClick(true, answerObj.correct);
    answersBlock.appendChild(btnTrue);
    
    const btnFalse = document.createElement('button');
    btnFalse.className = 'answer-btn';
    btnFalse.textContent = 'Sai';
    btnFalse.onclick = () => handleTrueFalseAnswerClick(false, answerObj.correct);
    answersBlock.appendChild(btnFalse);
  }

  function handleTrueFalseAnswerClick(userAnswer, correctAnswer) {
    Array.from(answersBlock.querySelectorAll('button')).forEach(b => b.classList.add('disabled'));

    doneCount++;
    doneCountSpan.textContent = doneCount;

    if(userAnswer === correctAnswer) {
      correctCount++;
      correctCountSpan.textContent = correctCount;
      Array.from(answersBlock.querySelectorAll('button')).forEach(b => {
        if(b.textContent.toLowerCase() === (userAnswer ? 'ƒë√∫ng' : 'sai')) {
          b.classList.add('correct');
        }
      });
    } else {
      wrongCount++;
      wrongCountSpan.textContent = wrongCount;
      Array.from(answersBlock.querySelectorAll('button')).forEach(b => {
        if(b.textContent.toLowerCase() === (userAnswer ? 'ƒë√∫ng' : 'sai')) {
          b.classList.add('incorrect');
        }
        if(b.textContent.toLowerCase() === (correctAnswer ? 'ƒë√∫ng' : 'sai')) {
          b.classList.add('correct');
        }
      });
    }

    btnNext.style.display = 'inline-block';
  }

  // Essay submit handler
  btnEssaySubmit.onclick = () => {
    const userText = essayAnswerTextarea.value.trim();
    if(userText.length === 0) {
      alert('H√£y nh·∫≠p c√¢u tr·∫£ l·ªùi tr∆∞·ªõc khi nh·∫•n "Xong"');
      return;
    }
    btnEssaySubmit.disabled = true; // V√¥ hi·ªáu h√≥a n√∫t "Xong" sau khi submit
    
    doneCount++;
    doneCountSpan.textContent = doneCount;

    const currentQ = questions[currentQIdx];
    let answerRefHTML = `<br><br><em><strong>ƒê√°p √°n tham kh·∫£o:</strong> ${currentQ.answerRef}</em>`;
    
    if(currentQ.answerRefImage) {
      answerRefHTML += `<div style="margin: 15px 0; text-align: center;">
        <img src="${currentQ.answerRefImage}" style="max-width: 100%; max-height: 300px; border: 1px solid #ccc; border-radius: 5px;">
      </div>`;
    }
    
    questionBlock.innerHTML += answerRefHTML;
    btnNext.style.display = 'inline-block';
  };

  btnNext.onclick = () => {
    // ·∫®n n√∫t "Ti·∫øp t·ª•c"
    btnNext.style.display = 'none';
    // ƒê·∫£m b·∫£o n√∫t "Xong" (essay) ƒë∆∞·ª£c k√≠ch ho·∫°t l·∫°i
    btnEssaySubmit.disabled = false; 

    if(quizType === 'truefalse') {
      currentTFAnswerIdx++;
      const currentQ = questions[currentQIdx];
      // N·∫øu c√≤n c√¢u h·ªèi ph·ª• trong c√¢u h·ªèi ƒê√∫ng/Sai hi·ªán t·∫°i
      if(currentTFAnswerIdx < currentQ.answers.length) {
        showTrueFalseAnswer(currentQ.answers[currentTFAnswerIdx]);
        return; // Kh√¥ng chuy·ªÉn sang c√¢u h·ªèi ti·∫øp theo m√† hi·ªÉn th·ªã c√¢u ph·ª•
      }
    }

    // Chuy·ªÉn sang c√¢u h·ªèi ti·∫øp theo
    currentQIdx++;
    showQuestion();
  };

  function endQuiz() {
    stopTimer();
    quizSection.style.display = 'none';
    resultSection.style.display = 'block';
    toggleThemeBtn.style.display = 'block'; // Hi·ªÉn th·ªã l·∫°i n√∫t chuy·ªÉn theme

    resultTime.textContent = formatTime(timeSeconds);
    resultTotal.textContent = doneCount;
    resultCorrect.textContent = correctCount;
    resultWrong.textContent = wrongCount;

    starRating.innerHTML = '';

    // Logic t√≠nh sao ƒë√£ ƒë∆∞·ª£c kh√¥i ph·ª•c v√† tinh ch·ªânh
    if(quizType === 'multi' || quizType === 'truefalse') {
      let starsGreen = 0;
      let starsGray = 0;
      
      if(wrongCount === 0) { // N·∫øu kh√¥ng c√≥ c√¢u sai
        starsGreen = 3; // 3 sao xanh
      } else if (wrongCount >= 1 && wrongCount <= 3) {
        starsGreen = 2; // 2 sao xanh
        starsGray = 1; // 1 sao x√°m
      } else if (wrongCount >= 4 && wrongCount <= 9) {
        starsGreen = 1; // 1 sao xanh
        starsGray = 2; // 2 sao x√°m
      } else { // wrongCount >= 10
        starsGreen = 0; // 0 sao xanh
        starsGray = 3; // 3 sao x√°m
      }

      for(let i = 1; i <= 3; i++) {
        const star = document.createElement('span');
        star.classList.add('star');
        if(i <= starsGreen) star.classList.add('Green');
        else if(i <= starsGray) star.classList.add('gray');
        star.innerHTML = '&#9733;';
        starRating.appendChild(star);
      }
    } else if (quizType === 'essay') {
        // ƒê·ªëi v·ªõi b√†i t·ª± lu·∫≠n, kh√¥ng c√≥ ƒëi·ªÉm ƒë√∫ng/sai t·ª± ƒë·ªông
        // B·∫°n c√≥ th·ªÉ th√™m logic ch·∫•m ƒëi·ªÉm th·ªß c√¥ng ho·∫∑c hi·ªÉn th·ªã th√¥ng b√°o kh√°c
        const infoDiv = document.createElement('div');
        infoDiv.textContent = "B√†i T·ª± Lu·∫≠n C·∫ßn ƒê∆∞·ª£c Gi√°o Vi√™n Ch·∫•m ƒêi·ªÉm.";
        infoDiv.style.fontWeight = "bold";
        infoDiv.style.marginTop = "20px";
        starRating.appendChild(infoDiv);
    }
  }

  // --- EVENT LISTENERS ---
  // ƒê√£ x√≥a btnRestart.onclick v√† logic li√™n quan
  // N·∫øu b·∫°n mu·ªën ch·ª©c nƒÉng "l√†m l·∫°i" b√†i quiz, b·∫°n c·∫ßn t·∫°o m·ªôt n√∫t m·ªõi v·ªõi ID kh√°c
  // v√† th√™m l·∫°i logic reset Stats v√†o event listener c·ªßa n√∫t ƒë√≥.

  // N√∫t Home (·ªü m√†n h√¨nh k·∫øt qu·∫£) - v·∫´n reload trang hi·ªán t·∫°i
  btnHome.onclick = () => {
    location.reload(); 
  };

  btnMulti.onclick = () => initQuiz('multi');
  btnTrueFalse.onclick = () => initQuiz('truefalse');
  btnEssay.onclick = () => initQuiz('essay');
  // New: Download button functionality
  btnDownload.onclick = () => {
    const htmlContent = document.documentElement.outerHTML;
    const blob = new Blob([htmlContent], { type: 'text/html' });
    const a = document.createElement('a');
    a.href = URL.createObjectURL(blob);
    a.download = 'toancreator-default'; // Set the desired filename
    document.body.appendChild(a);
    a.click();
    document.body.removeChild(a);
    URL.revokeObjectURL(a.href);
  };
  
  
  // X·ª≠ l√Ω s·ª± ki·ªán cho n√∫t Exit m·ªõi
  btnExit.onclick = () => {
    window.location.href = '../index.html'; // Chuy·ªÉn h∆∞·ªõng v·ªÅ index.html
  };

  // X·ª≠ l√Ω s·ª± ki·ªán cho n√∫t Back to Home trong quiz
  btnBackHomeInQuiz.onclick = () => {
    if (confirm('B·∫°n c√≥ ch·∫Øc ch·∫Øn mu·ªën tho√°t b√†i l√†m hi·ªán t·∫°i?')) {
      stopTimer(); // D·ª´ng ƒë·ªìng h·ªì
      location.reload(); // T·∫£i l·∫°i trang promt-onlineV2.html
    }
  };

  toggleThemeBtn.onclick = () => {
    document.body.classList.toggle('dark');
  };

  // ·∫®n/hi·ªán n√∫t toggle theme ban ƒë·∫ßu
  // B·∫°n c√≥ th·ªÉ ƒë·∫∑t n√∫t toggle theme ·ªü v·ªã tr√≠ c·ªë ƒë·ªãnh thay v√¨ ·∫©n/hi·ªán t√πy thu·ªôc v√†o m√†n h√¨nh
  // Hi·ªán t·∫°i, n√≥ s·∫Ω lu√¥n hi·ªÉn th·ªã tr·ª´ khi b·ªã ·∫©n b·ªüi CSS ho·∫∑c logic kh√°c
  toggleThemeBtn.style.display = 'block'; 
})();
</script>
</body>
</html>